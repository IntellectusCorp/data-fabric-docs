@startuml
set separator none
title Deployment - Integration

top to bottom direction

!include <C4/C4>
!include <C4/C4_Context>
!include <C4/C4_Container>
!include <C4/C4_Deployment>

skinparam svgDimensionStyle false
skinparam preserveAspectRatio meet
Deployment_Node(Integration.HyconDataPipeline, "Hycon Data Pipeline", $type="", $tags="", $link="") {
  ContainerDb(Integration.HyconDataPipeline.AutonomousDataStore_1, "Autonomous Data Store", $techn="", $descr="Database", $tags="", $link="")
  ContainerDb(Integration.HyconDataPipeline.MetadataStore_1, "Metadata Store", $techn="", $descr="Database", $tags="", $link="")
  Container(Integration.HyconDataPipeline.MetadataExtraction_1, "Metadata Extraction", $techn="", $descr="API Server", $tags="", $link="")
  Container(Integration.HyconDataPipeline.Anontmization_1, "Anontmization", $techn="", $descr="API Server", $tags="", $link="")
  Container(Integration.HyconDataPipeline.Visualization_1, "Visualization", $techn="", $descr="API Server", $tags="", $link="")
}

Deployment_Node(Integration.IntellectusDataFabric, "Intellectus Data Fabric", $type="", $tags="", $link="") {
  Container(Integration.IntellectusDataFabric.DataSourceGateway_1, "Data Source Gateway", $techn="Container: Java Application", $descr="Manage data pipeline between distburited data source and Data Fabric in secure.", $tags="", $link="")
  Deployment_Node(Integration.IntellectusDataFabric.MetadataService, "Metadata Service", $type="", $tags="", $link="") {
    Container(Integration.IntellectusDataFabric.MetadataService.MetadataApp_1, "Metadata App", $techn="", $descr="Active Metadata", $tags="", $link="")
    ContainerDb(Integration.IntellectusDataFabric.MetadataService.MetadataDatabase_1, "Metadata Database", $techn="", $descr="DB: AWS Aurora Postgrsql", $tags="", $link="")
  }

  Deployment_Node(Integration.IntellectusDataFabric.KnowledgeService, "Knowledge Service", $type="", $tags="", $link="") {
    Container(Integration.IntellectusDataFabric.KnowledgeService.KnowledgeGraphApp_1, "Knowledge Graph App", $techn="Container: Serverless Java or Typescript Application", $descr="Provides", $tags="", $link="")
    ContainerDb(Integration.IntellectusDataFabric.KnowledgeService.KnowledgeGraphDatabase_1, "Knowledge Graph Database", $techn="", $descr="DB: Neo4j or AWS Neptune", $tags="", $link="")
  }

  Deployment_Node(Integration.IntellectusDataFabric.APIGatewayService, "API Gateway Service", $type="", $tags="", $link="") {
    Container(Integration.IntellectusDataFabric.APIGatewayService.APIService_1, "API Service", $techn="", $descr="API Gateway Managed Service", $tags="", $link="")
  }

}

Rel_D(Integration.HyconDataPipeline.MetadataExtraction_1, Integration.HyconDataPipeline.AutonomousDataStore_1, "Extract metadata(by file)", $techn="", $tags="", $link="")
Rel_D(Integration.HyconDataPipeline.MetadataExtraction_1, Integration.HyconDataPipeline.Anontmization_1, "Anonymization", $techn="", $tags="", $link="")
Rel_D(Integration.HyconDataPipeline.Anontmization_1, Integration.HyconDataPipeline.Visualization_1, "Processing for Visualization", $techn="", $tags="", $link="")
Rel_D(Integration.HyconDataPipeline.Visualization_1, Integration.HyconDataPipeline.MetadataStore_1, "Load Data", $techn="", $tags="", $link="")
Rel_D(Integration.IntellectusDataFabric.DataSourceGateway_1, Integration.HyconDataPipeline.MetadataStore_1, "", $techn="", $tags="", $link="")
Rel_D(Integration.IntellectusDataFabric.DataSourceGateway_1, Integration.HyconDataPipeline.AutonomousDataStore_1, "", $techn="", $tags="", $link="")
Rel_D(Integration.IntellectusDataFabric.MetadataService.MetadataApp_1, Integration.IntellectusDataFabric.DataSourceGateway_1, "", $techn="", $tags="", $link="")
Rel_D(Integration.IntellectusDataFabric.MetadataService.MetadataApp_1, Integration.IntellectusDataFabric.MetadataService.MetadataDatabase_1, "", $techn="", $tags="", $link="")
Rel_D(Integration.IntellectusDataFabric.KnowledgeService.KnowledgeGraphApp_1, Integration.IntellectusDataFabric.MetadataService.MetadataApp_1, "", $techn="", $tags="", $link="")
Rel_D(Integration.IntellectusDataFabric.KnowledgeService.KnowledgeGraphApp_1, Integration.IntellectusDataFabric.KnowledgeService.KnowledgeGraphDatabase_1, "build Local Knowledge Graph", $techn="", $tags="", $link="")
Rel_D(Integration.IntellectusDataFabric.APIGatewayService.APIService_1, Integration.IntellectusDataFabric.KnowledgeService.KnowledgeGraphApp_1, "", $techn="", $tags="", $link="")
Rel_D(Integration.IntellectusDataFabric.APIGatewayService.APIService_1, Integration.IntellectusDataFabric.MetadataService.MetadataApp_1, "", $techn="", $tags="", $link="")

SHOW_LEGEND(true)
@enduml