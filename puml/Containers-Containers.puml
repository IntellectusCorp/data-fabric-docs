@startuml
set separator none
title Data Fabric - Containers

top to bottom direction

!include <C4/C4>
!include <C4/C4_Context>
!include <C4/C4_Container>

skinparam svgDimensionStyle false
skinparam preserveAspectRatio meet
Person(DataOwner, "Data Owner", "A provider who owned data set.", $tags="")

System_Boundary("DataFabric_boundary", "Data Fabric", $tags="") {
  Container(DataFabric.Jotter, "Jotter", "Data Fabric", "Web Application", $tags="")
  Container(DataFabric.KnowledgeSlipbox, "Knowledge Slipbox", "Knowledge Graph", "Knowledge Graph", $tags="")[[../component/]]
  Container(DataFabric.ActiveMetadata, "Active Metadata", "Active Metadata", "Active Metadata", $tags="")[[../component/]]
  Container(DataFabric.FabricBroker, "Fabric Broker", "Int2 Data Fabric", "Broker to manage data pipeline.", $tags="")
  Container(DataFabric.FabricAPIProvider, "Fabric API Provider", "Int2 Data Fabric", "API", $tags="")
}

Rel_D(DataFabric.KnowledgeSlipbox, DataFabric.ActiveMetadata, "weave Knowledge from Metadata", $tags="")
Rel_D(DataFabric.FabricBroker, DataOwner, "data pipeline", $tags="")
Rel_D(DataFabric.ActiveMetadata, DataFabric.FabricBroker, "access data source through Broker", $tags="")
Rel_D(DataFabric.FabricAPIProvider, DataFabric.KnowledgeSlipbox, "", $tags="")
Rel_D(DataFabric.FabricAPIProvider, DataFabric.ActiveMetadata, "", $tags="")
Rel_D(DataFabric.Jotter, DataFabric.KnowledgeSlipbox, "request", $tags="")
Rel_D(DataFabric.Jotter, DataFabric.FabricAPIProvider, "", $tags="")

SHOW_LEGEND(true)
@enduml